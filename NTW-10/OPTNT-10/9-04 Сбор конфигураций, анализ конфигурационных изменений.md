# Домашнее задание к занятию "Сбор конфигураций, анализ конфигурационных изменений"


### Цель задания

Данное домашнее задание позволит вам разобраться в подходах к резервному копированию конфигурации АСО.

В результате выполнения задания вы научитесь:  
1. Устанавливать и выполнять базовые настойки ПО сбора конфигураций Rancid
2. Снимать в автоматическом режиме по расписанию копии конфигураций АСО и хранить их на удалённом сервере
3. Выполнять расширенные настройки ПО Rancid

------

### Лабораторная работа "Бэкап и восстановление конфигурации АСО"

![image](https://user-images.githubusercontent.com/5977962/215810640-195417b6-0a14-4035-a69c-7e84d7b4264d.png)



### Инструкция к выполнению

1. Установите ПО Rancid на виртуальной машине, следуя шагам на слайдах
2. Проверьте, создался ли пользователь rancid. Если нет, создайте его, установите пароль и дайте права к папкам из инструкции
3. Создайте запись в hosts для тестового маршрутизатора. Назовите его netology-router
4. Проверьте доступ по ssh к виртуальному маршрутизатору
5. Выполните базовые настройки Rancid

### Инструменты/ дополнительные материалы, которые пригодятся для выполнения задания

Доступ к виртуальному маршрутизатору Cisco CSR по ssh:   
IP: 45.134.127.23   
Логин: netology_student    
Пароль: iamanetworkengineer!23   


---

### Задание 1 

1. Вместо команды show running-config настройте выполнение команды sh startup-config.
2. Все остальные команды сбора статистики и логов закомментируйте. Должна остаться только команда сбора конфигурации.   
![](./img/9.4.3.jpg)
3. Запустите процесс сбора данных rancid.
4. Убедитесь, что диагностические команды выполнены и сохранены в файл.

*В качестве ответа приложите файл, созданный rancid и файл конфигурации, в который вносились изменения по заданию*

![](./img/9.4.1.jpg)
![](./img/9.4.4.jpg)

### Задание 2 

1. Удалите созданный rancid файл конфигураций тестового роутера.
2. Настройте cron на запуск rancid раз в 5 минут.
3. Подождите 10 минут.
4. Убедитесь, что диагностические команды выполнены. И сохранены в файл.

*В качестве ответа приложите настройку cron*

------
```
*/5 * * * * /var/lib/rancid/bin/rancid-run
```

![](./img/9.4.2.jpg)

