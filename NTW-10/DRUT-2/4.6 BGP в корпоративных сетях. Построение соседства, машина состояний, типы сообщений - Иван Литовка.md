# Домашнее задание к занятию "BGP в корпоративных сетях. Построение соседства, машина состояний, типы сообщений"

------

### Задание 1

Существует установленная BGP-сессия, у которой uptime 20 часов. Какие сообщения гарантированно не передавались между соседями последние 2 часа? 

*Приведите ответ в свободной форме.* 

---

В данном вопросе **uptime** имеется в виду **hold time**? Если так то за последние 2 часа мы однозначно не получали сообщения **OPEN** т.к. сессия уже установлена и **KEEEPALIVE** , но тут зависит какие именно эти последние два часа, т.к. **KEEPALIVE** судя по всему должен у нас слаться каждый гдето 6 часов. **UPDATE** мы не получим если не было изменений в сети, и **NOTIFICATION** тоже не получим если сеть работает без ошибок.


### Задание 2. Лабораторная работа "Настройка конфигурации BGP"

1. В Cisco Packet Tracer соберите сеть, состоящую из двух маршрутизаторов R1 и R2, находящиеся в разных AS.
2. Настройте между ними BGP.
3. К маршрутизатору R1 добавьте еще маршрутизатор R5, а к R2 - маршрутизатор R4.
4. Соедините R4 и R5 между собой и настройте BGP. 
5. Все маршрутизаторы должны находиться в уникальных AS. 

*Пришлите pkt файл.*

[4.5.pkt](./files/4.5.pkt)

### Задание 3
На основе предыдущей лабораторной работы настройте маршрутизацию таким образом, чтобы трафик от R2 проходил через маршрутизаторы: R4->R5->R1.
В качестве ответа приложите примеры конфигураций устройств.

*Приведите ответ в свободной форме.*

Не уверен что правильно понял как сделать, нужна помощь.

```
ip prefix-list ROAD_TO_AS100 seq 5 permit 100.0.0.0/24

route-map BGP1_IN permit 10
 match ip address prefix-list ROAD_TO_AS100
 set local-preference 100

route-map BGP1_IN permit 20
 set local-preference 50
 
router bgp 200
 neighbor 101.0.0.13 route-map BGP1_IN in

```

