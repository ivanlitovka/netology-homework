# Домашнее задание к занятию "Протокол OSPF. Построение соседства, машина состояний, LSDB"

![image](https://user-images.githubusercontent.com/85602495/149903430-5ec488cc-9e2e-4633-b60a-9ddd3e693877.png)

------

### Задание 1. Запуск протокола OSPF 

Запустите протокол OSPF:  
 - Анонсируйте ip адреса Fa0/0, Fa0/1 и Loopback 0 в Area 0;
 - Проверьте наличие маршрутов OSPF в таблице маршрутизации;
 - Проверьте наличие связности всех Loopback адресов со всех маршрутизаторов.
*Выполните необходимую конфигурацию и приложите список сделанных команд для каждого маршрутизатора.*
------

Router1
```
router ospf 1
    network 1.1.1.0 0.0.0.255 area 0
    network 192.168.1.0 0.0.0.255 area 0
    network 209.45.185.0 0.0.0.255 area 0
```
Router2
```
router ospf 1
    network 2.2.2.0 0.0.0.255 area 0
    network 192.168.1.0 0.0.0.255 area 0
    network 172.16.1.0 0.0.0.255 area 0
```
Router3
```
router ospf 1
    network 3.3.3.0 0.0.0.255 area 0
    network 192.168.1.0 0.0.0.255 area 0
    network 192.168.3.0 0.0.0.255 area 0
```
Router4
```
router ospf 1
    network 192.168.40.0 0.0.0.255 area 0
    network 192.168.1.0 0.0.0.255 area 0
    network 192.168.4.0 0.0.0.255 area 0
```
Проверка связанности
```

Router1#ping 3.3.3.3

Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 3.3.3.3, timeout is 2 seconds:
!!!!!
Success rate is 100 percent (5/5), round-trip min/avg/max = 0/0/4 ms
```


### Задание 2. Проверка построения соседства

1. Выключите интерфейс Fa0/0 на одном из маршрутизаторов, подождите 40 секунд.  
2. Включите Packet Simulation в Packet Tracer на этом порту.  
3. Включите интерфейс и посмотрите процесс установления соседства на пакетном уровне.  
В данных пакетах OSPF найти поле AreaID. В каких пакетах передается AreaID? В каком формате передается?

*Выполните необходимую конфигурацию и приведите ответы на вопросы в свободной форме.*

------

Передается вот в таком виде: **AREA ID:0.0.0.0**


### Задание 3. Оповещение соседей о потерянном маршруте

После установления соседства, отключите Loopback 0 на Router4 и посмотрите, каким образом произойдет оповещение соседей о потере маршрута. Посредством чего OSPF маршрутизатор
оповещает соседей о потерянном маршруте?

*Приведите ответы на вопросы в свободной форме.*
------
генерируется пакет LSU с указанием данного маршрута, только что там говорит об его удалении?

### Задание 4. Определение DR и BDR

Сделайте предположение, какие маршрутизаторы будут выбраны в качестве DR и BDR.  Узнайте, какие маршрутизаторы выбраны DR и BDR в реальности при помощи команд на маршрутизаторе. 
Какую команду необходимо использовать для получения информации о DR/BDR? Сошлись ли предположения с реальностью? Если нет, то почему?

*Приведите ответы на вопросы в свободной форме.*

------

Исходя из анализа ip адресов Lo интерфейсов и правил выборов DR и BDR, DR должен быть Router4, а BDR ROuter3

Но вывод команды **show ip ospf neighbor** говорит что это не так, т.к. при выполнении предыдущих заданий, интерфейсы выкл/вкл, роутеры перезагружались, и кто успел тот и DR и BDR


### Задание 5. Диагностика работы протокола

1. Какой командой узнать RouterID?
**show ip ospf**
2. Какой командой узнать список анонсированных сетей?
**show ip ospf interface** или **show ip route ospf** на самом деле я не уверен, точный ответ не нашел
3. Какой командой узнать список соседей?
**show ip ospf neighbor**
4. Какой командой узнать список интерфейсов, на которых активирован OSPF?
**show ip ospf interface**
5. Какой командой перезапустить процесс OSPF?
**clear ip ospf process**
*Приложите список сделанных команд.* 

